# Telegram Bot Configuration
TELEGRAM_TOKEN=

# Payment System - Heleket Configuration
MERCHANT_UUID=
API_KEY=

# Webhook Configuration
WEBHOOK_ENABLED=True
WEBHOOK_HOST=0.0.0.0
WEBHOOK_PORT=8001
WEBHOOK_PATH=/webhook/heleket
WEBHOOK_SECRET=wh_sec_$(openssl rand -hex 32)

# Database Configuration
DATABASE_URL=postgresql+?sslmode=require
DB_PASSWORD=postgres_password

# Redis Configuration
REDIS_URL=redis://:password@redis-node-1:7379
REDIS_CLUSTER_URL=redis://:password@redis-node-1:7379,redis-node-2:7380,redis-node-3:7381
REDIS_CLUSTER_NODES=redis-node-1:7379,redis-node-2:7380,redis-node-3:7381
REDIS_CLUSTER_ENABLED=True
REDIS_PASSWORD=password
REDIS_DB=0

# SSL Configuration
SSL_CERT_PATH=./nginx/ssl/cert.pem
SSL_KEY_PATH=./nginx/ssl/key.pem
SSL_CA_PATH=./nginx/ssl/chain.pem

# WebSocket Configuration
WEBSOCKET_PORT=8080
WEBSOCKET_HOST=0.0.0.0

# Balance Service Configuration
BALANCE_SERVICE_ENABLED=True
BALANCE_PURCHASE_ENABLED=True
BALANCE_NOTIFICATIONS_ENABLED=True
MIN_PURCHASE_AMOUNT=1
MAX_PURCHASE_AMOUNT=100000
DEFAULT_CURRENCY=TON

# Balance Purchase Configuration
MIN_BALANCE_PURCHASE_AMOUNT=1
MAX_BALANCE_PURCHASE_AMOUNT=10000
BALANCE_PURCHASE_CURRENCY=TON

# Balance Recharge Configuration
BALANCE_RECHARGE_ENABLED=True
RECHARGE_ENABLED=True
MIN_RECHARGE_AMOUNT=10.0
MAX_RECHARGE_AMOUNT=10000.0
RECHARGE_CURRENCY=TON
RECHARGE_DESCRIPTION=Пополнение баланса
RECHARGE_TRANSACTION_TYPE=recharge

# Cache Configuration
CACHE_TTL_USER=1800
CACHE_TTL_SESSION=1800
CACHE_TTL_PAYMENT=900
CACHE_TTL_INVOICE=1800
CACHE_TTL_PAYMENT_STATUS=900
CACHE_TTL_RATE_LIMIT=60

# Rate Limiting Configuration - Optimized for 1000+ users
# Legacy settings (for backward compatibility)
RATE_LIMIT_API=50              # API запросы в минуту
RATE_LIMIT_PAYMENT=10          # Платежные операции в минуту
RATE_LIMIT_WEBSOCKET=20        # WebSocket соединения в минуту

# Per-user Rate Limits (персональные лимиты для каждого пользователя)
RATE_LIMIT_USER_MESSAGES=30    # 30 сообщений в минуту (2 сек между сообщениями)
RATE_LIMIT_USER_OPERATIONS=20  # 20 операций в минуту (3 сек между операциями)
RATE_LIMIT_USER_PAYMENTS=5     # 5 платежей в минуту (12 сек между платежами)

# Global Rate Limits (глобальные лимиты для защиты от DDoS)
RATE_LIMIT_GLOBAL_MESSAGES=1000   # 1000 сообщений в минуту глобально
RATE_LIMIT_GLOBAL_OPERATIONS=500  # 500 операций в минуту глобально
RATE_LIMIT_GLOBAL_PAYMENTS=100    # 100 платежей в минуту глобально

# Burst Limits (кратковременные всплески активности)
RATE_LIMIT_BURST_MESSAGES=10   # 10 сообщений за 10 секунд
RATE_LIMIT_BURST_OPERATIONS=5  # 5 операций за 10 секунд
RATE_LIMIT_BURST_WINDOW=10     # окно burst в секундах

# Premium User Settings
RATE_LIMIT_PREMIUM_MULTIPLIER=2.0  # x2 лимиты для премиум пользователей

# New User Restrictions (первые 24 часа)
RATE_LIMIT_NEW_USER_MESSAGES=15    # 15 сообщений/мин для новых пользователей
RATE_LIMIT_NEW_USER_OPERATIONS=10  # 10 операций/мин для новых пользователей
RATE_LIMIT_NEW_USER_HOURS=24       # 24 часа ограничений для новых пользователей

# Database Pool Configuration
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Application Configuration
DEBUG=False
LOG_LEVEL=INFO
ENVIRONMENT=production

# Support Configuration
SUPPORT_CONTACT=@Mirza

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# Proxy Configuration
PROXY_URL=

# Fragment API Configuration
# ⚠️ ВАЖНО: Храните эти значения в секрете!
# Seed phrase используется для подписи транзакций в TON блокчейне
# Формат: 24 слова, разделенные одинарными пробелами
# Пример: FRAGMENT_SEED_PHRASE=abandon ability able about above absent absorb abstract absurd abuse access accident account accuse achieve acid acoustic acquire across act action actor actress
FRAGMENT_SEED_PHRASE=your_24_words_seed_phrase
# Cookies используются для авторизации в Fragment API
FRAGMENT_COOKIES=your_fragment_cookies
# Автоматическое обновление cookies (требуется Selenium)
FRAGMENT_AUTO_COOKIE_REFRESH=False
# Интервал обновления cookies (в секундах)
FRAGMENT_COOKIE_REFRESH_INTERVAL=3600

# Production Domain Configuration
PRODUCTION_DOMAIN=your-domain.com
CLOUDFLARE_TUNNEL_URL=https://your-domain.com
# Cloudflare Tunnel Configuration
# Установите ваш Cloudflare Tunnel Token здесь
# Получить токен: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_TUNNEL_TOKEN=your_cloudflare_tunnel_token
ENABLE_HTTPS_REDIRECT=True

# Domain-specific logging
DOMAIN_DEBUG_LOGGING=True
WEBHOOK_DOMAIN_LOGGING=True
LOG_REQUEST_HEADERS=True
