"""
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Telegram bot

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —ç–º–æ–¥–∑–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
"""
from typing import Dict, Any, Optional
from datetime import datetime


class MessageTemplate:
    """
    –ö–ª–∞—Å—Å –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞.
    
    –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —Å HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ —ç–º–æ–¥–∑–∏
    –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π, –∑–∞–º–µ–Ω—è—è –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥ –≤–æ –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö.
    """

    # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —ç–º–æ–¥–∑–∏ –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏
    EMOJI_UNKNOWN = "‚ùì"
    EMOJI_SUCCESS = "‚úÖ"
    EMOJI_ERROR = "‚ùå"
    EMOJI_PENDING = "‚è≥"
    EMOJI_INFO = "‚ÑπÔ∏è"
    EMOJI_WARNING = "‚ö†Ô∏è"
    EMOJI_NETWORK = "üåê"
    EMOJI_PAYMENT = "üí≥"
    EMOJI_BALANCE = "üí∞"
    EMOJI_STAR = "‚≠ê"
    EMOJI_HELP = "‚ùì"
    EMOJI_BACK = "‚¨ÖÔ∏è"
    EMOJI_REFRESH = "üîÑ"
    EMOJI_HOME = "üè†"

    @classmethod
    def get_unknown_command(cls) -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.
        
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å HTML —Ç–µ–≥–∞–º–∏
        """
        return (
            f"{cls.EMOJI_UNKNOWN} <b>–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞</b> {cls.EMOJI_UNKNOWN}\n\n"
            f"üîç <i>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</i>\n\n"
            f"üí° <i>–í–≤–µ–¥–∏—Ç–µ /help –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥</i>\n\n"
            f"ü§ñ <i>–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é</i>"
        )

    @classmethod
    def get_unknown_callback(cls) -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö callback –∑–∞–ø—Ä–æ—Å–æ–≤.
        
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å HTML —Ç–µ–≥–∞–º–∏
        """
        return (
            f"{cls.EMOJI_UNKNOWN} <b>–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ</b> {cls.EMOJI_UNKNOWN}\n\n"
            f"üîç <i>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–Ω–æ–ø–∫–∏</i>\n\n"
            f"üí° <i>–í–≤–µ–¥–∏—Ç–µ /start –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é</i>"
        )

    @classmethod
    def get_payment_status(cls, status: str, amount: float = 0, 
                          payment_id: Optional[str] = None, 
                          currency: str = "TON") -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –æ–ø–ª–∞—Ç—ã.
        
        Args:
            status: –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã ('pending', 'paid', 'failed', 'expired', 'cancelled', 'processing')
            amount: –°—É–º–º–∞ –æ–ø–ª–∞—Ç—ã
            payment_id: ID –ø–ª–∞—Ç–µ–∂–∞
            currency: –í–∞–ª—é—Ç–∞ –æ–ø–ª–∞—Ç—ã
            
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å HTML —Ç–µ–≥–∞–º–∏
        """
        status_line = cls._format_status(status)
        amount_line = f"üí∞ <b>–°—É–º–º–∞:</b> {amount} {currency}\n"
        
        message = f"{status_line}\n"
        if amount > 0:
            message += f"{amount_line}"
        if payment_id:
            message += f"üî¢ <b>ID –ø–ª–∞—Ç–µ–∂–∞:</b> {payment_id}\n"
            
        return message

    @classmethod
    def get_error_message(cls, error_type: str = "unknown", 
                         context: Optional[Dict[str, Any]] = None) -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö.
        
        Args:
            error_type: –¢–∏–ø –æ—à–∏–±–∫–∏ ('network', 'payment', 'validation', 'system', 'unknown')
            context: –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
            
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å HTML —Ç–µ–≥–∞–º–∏
        """
        context = context or {}
        user_id = context.get('user_id', '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π')
        amount = context.get('amount', 0)
        payment_id = context.get('payment_id', '–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω')
        error_detail = context.get('error', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞')
        
        error_templates = {
            'network': (
                f"{cls.EMOJI_NETWORK} <b>–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç–µ–≤—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º</b> {cls.EMOJI_NETWORK}\n\n"
                f"üîç <i>–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –æ–ø–ª–∞—Ç—ã</i>\n"
                f"üìù <i>–û—à–∏–±–∫–∞: {error_detail}</i>\n\n"
                f"üîÑ <i><b>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</b></i>\n"
                f"   üì° <i>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</i>\n"
                f"   üîÑ <i>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥</i>\n"
                f"   üì± <i>–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –¥—Ä—É–≥—É—é —Å–µ—Ç—å</i>\n\n"
                f"üìû <i>–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</i>"
            ),
            'payment': (
                f"{cls.EMOJI_PAYMENT} <b>–û—à–∏–±–∫–∞ –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</b> {cls.EMOJI_ERROR}\n\n"
                f"üîç <i>–ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ø–ª–∞—Ç–µ–∂–∞</i>\n"
                f"üìù <i>–û—à–∏–±–∫–∞: {error_detail}</i>\n"
                f"{cls.get_payment_status(context.get('status', 'unknown'), amount, payment_id)}\n\n"
                f"üîÑ <i><b>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</b></i>\n"
                f"   ‚è∞ <i>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç</i>\n"
                f"   üí≥ <i>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</i>\n\n"
                f"üìû <i>–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</i>"
            ),
            'validation': (
                f"{cls.EMOJI_WARNING} <b>–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö</b> {cls.EMOJI_WARNING}\n\n"
                f"üîç <i>–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏</i>\n"
                f"üìù <i>–û—à–∏–±–∫–∞: {error_detail}</i>\n"
                f"üî¢ <i>–í–≤–µ–¥–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: {amount}</i>\n\n"
                f"üîÑ <i><b>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</b></i>\n"
                f"   ‚úÖ <i>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</i>\n"
                f"   üìè <i>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—É–º–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–æ–ø—É—Å—Ç–∏–º–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ</i>\n\n"
                f"üí° <i>–í–≤–µ–¥–∏—Ç–µ /start –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é</i>"
            ),
            'system': (
                f"{cls.EMOJI_ERROR} <b>–°–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞</b> {cls.EMOJI_ERROR}\n\n"
                f"üîç <i>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–∏—Å—Ç–µ–º—ã</i>\n"
                f"üìù <i>–û—à–∏–±–∫–∞: {error_detail}</i>\n"
                f"üë§ <i>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user_id}</i>\n\n"
                f"üîÑ <i><b>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</b></i>\n"
                f"   ‚è∞ <i>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ –ø–æ–∑–∂–µ</i>\n"
                f"   üîÑ <i>–û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É</i>\n\n"
                f"üìû <i>–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</i>"
            ),
            'unknown': (
                f"{cls.EMOJI_UNKNOWN} <b>–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞</b> {cls.EMOJI_UNKNOWN}\n\n"
                f"üîç <i>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞</i>\n"
                f"üìù <i>–û—à–∏–±–∫–∞: {error_detail}</i>\n"
                f"üë§ <i>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user_id}</i>\n"
                f"{cls.get_payment_status(context.get('status', 'unknown'), amount, payment_id)}\n\n"
                f"üîÑ <i><b>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</b></i>\n"
                f"   üîÑ <i>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞</i>\n"
                f"   üì± <i>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</i>\n\n"
                f"üìû <i>–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</i>"
            )
        }
        
        return error_templates.get(error_type.lower(), error_templates['unknown'])

    @classmethod
    def get_success_message(cls, operation: str = "operation", 
                          details: Optional[Dict[str, Any]] = None) -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
        
        Args:
            operation: –û–ø–∏—Å–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
            details: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
            
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å HTML —Ç–µ–≥–∞–º–∏
        """
        details = details or {}
        amount = details.get('amount', 0)
        currency = details.get('currency', 'TON')
        payment_id = details.get('payment_id', '')
        
        message = (
            f"{cls.EMOJI_SUCCESS} <b>–û–ø—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞</b> {cls.EMOJI_SUCCESS}\n\n"
            f"‚úÖ <i>{operation}</i>\n"
        )
        
        if amount > 0:
            message += f"üí∞ <i>–°—É–º–º–∞: {amount} {currency}</i>\n"
        if payment_id:
            message += f"üî¢ <i>ID –æ–ø–µ—Ä–∞—Ü–∏–∏: {payment_id}</i>\n"
            
        message += f"\nüí° <i>–í–≤–µ–¥–∏—Ç–µ /start –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é</i>"
        
        return message

    @classmethod
    def get_info_message(cls, title: str = "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", 
                        content: Optional[str] = None,
                        details: Optional[Dict[str, Any]] = None) -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
        
        Args:
            title: –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏—è
            content: –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
            details: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏
            
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å HTML —Ç–µ–≥–∞–º–∏
        """
        details = details or {}
        amount = details.get('amount', 0)
        currency = details.get('currency', 'TON')
        payment_id = details.get('payment_id', '')
        
        message = f"{cls.EMOJI_INFO} <b>{title}</b> {cls.EMOJI_INFO}\n\n"
        
        if content:
            message += f"{content}\n\n"
            
        if amount > 0:
            message += f"üí∞ <i>–°—É–º–º–∞: {amount} {currency}</i>\n"
        if payment_id:
            message += f"üî¢ <i>ID: {payment_id}</i>\n"
            
        return message

    @classmethod
    def _format_status(cls, status: str) -> str:
        """
        –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å —ç–º–æ–¥–∑–∏ –∏ HTML —Ç–µ–≥–∞–º–∏.
        
        Args:
            status: –°—Ç–∞—Ç—É—Å –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å
        """
        status_formats = {
            'pending': f"{cls.EMOJI_PENDING} <b>—Å—Ç–∞—Ç—É—Å: pending</b>",
            'paid': f"{cls.EMOJI_SUCCESS} <b>—Å—Ç–∞—Ç—É—Å: paid</b>",
            'failed': f"{cls.EMOJI_ERROR} <b>—Å—Ç–∞—Ç—É—Å: failed</b>",
            'expired': f"‚ö™ <b>—Å—Ç–∞—Ç—É—Å: expired</b>",
            'cancelled': f"{cls.EMOJI_ERROR} <b>—Å—Ç–∞—Ç—É—Å: cancelled</b>",
            'processing': f"{cls.EMOJI_PENDING} <b>—Å—Ç–∞—Ç—É—Å: processing</b>",
            'unknown': f"{cls.EMOJI_UNKNOWN} <b>—Å—Ç–∞—Ç—É—Å: unknown</b>"
        }
        
        return status_formats.get(status.lower(), status_formats['unknown'])

    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤

    @staticmethod
    def get_welcome_message() -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.
        
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        """
        return (
            "ü§ñ <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ StarBot!</b> ü§ñ\n\n"
            "üåü <i>–í–∞—à –ª–∏—á–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤–µ–∑–¥–∞–º–∏ –∏ –±–∞–ª–∞–Ω—Å–æ–º</i>\n\n"
            "üí∞ <i>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –±–∞–ª–∞–Ω—Å, –ø–æ–ø–æ–ª–Ω—è–π—Ç–µ —Å—á–µ—Ç –∏ –ø–æ–∫—É–ø–∞–π—Ç–µ –∑–≤–µ–∑–¥—ã</i>\n\n"
            "‚ú® <i>–ö–∞–∂–¥–∞—è –∑–≤–µ–∑–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏!</i>\n\n"
            "üéØ <i>–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ</i>"
        )

    @staticmethod
    def get_help_message() -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∏.
        
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏
        """
        return (
            "ü§ñ <b>–ü–æ–º–æ—â—å StarBot</b> ü§ñ\n\n"
            "üìã <i>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</i>\n\n"
            f"‚Ä¢ <code>/start</code> - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é\n"
            f"‚Ä¢ <code>/balance</code> - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å\n"
            f"‚Ä¢ <code>/payment</code> - –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å\n"
            f"‚Ä¢ <code>/purchase</code> - –ö—É–ø–∏—Ç—å –∑–≤–µ–∑–¥—ã\n"
            f"‚Ä¢ <code>/help</code> - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞\n\n"
            "üí° <i>–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</i>\n\n"
            "üîß <i>–î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏: contact@example.com</i>"
        )

    @staticmethod
    def get_balance_message(balance: float = 0, 
                          currency: str = "TON") -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –æ –±–∞–ª–∞–Ω—Å–µ.
        
        Args:
            balance: –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å
            currency: –í–∞–ª—é—Ç–∞ –±–∞–ª–∞–Ω—Å–∞
            
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –±–∞–ª–∞–Ω—Å–µ
        """
        return (
            f"{MessageTemplate.EMOJI_BALANCE} <b>–í–∞—à –±–∞–ª–∞–Ω—Å</b> {MessageTemplate.EMOJI_BALANCE}\n\n"
            f"üí∞ <i>–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å:</i> <b>{balance:.2f} {currency}</b>\n\n"
            f"üí° <i>–í–≤–µ–¥–∏—Ç–µ /start –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é</i>"
        )

    @staticmethod
    def get_purchase_menu_title() -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω –∑–∞–≥–æ–ª–æ–≤–∫–∞ –º–µ–Ω—é –ø–æ–∫—É–ø–∫–∏ –∑–≤–µ–∑–¥.
        
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ–Ω—é
        """
        return (
            f"{MessageTemplate.EMOJI_STAR} <b>–ü–æ–∫—É–ø–∫–∞ –∑–≤–µ–∑–¥</b> {MessageTemplate.EMOJI_STAR}\n\n"
            "üéØ <i>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</i>\n\n"
            f"üí≥ <i>–ö–∞—Ä—Ç–æ–π/–ö–æ—à–µ–ª—å–∫–æ–º - –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Heleket</i>\n"
            f"üí∞ <i>–° –±–∞–ª–∞–Ω—Å–∞ - —Å–ø–∏—Å–∞–Ω–∏–µ —Å–æ —Å—á–µ—Ç–∞</i>\n\n"
            f"‚ú® <i>–ö–∞–∂–¥–∞—è –∑–≤–µ–∑–¥–∞ –∏–º–µ–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å!</i>"
        )

    @staticmethod
    def get_payment_menu_title() -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω –∑–∞–≥–æ–ª–æ–≤–∫–∞ –º–µ–Ω—é –ø–ª–∞—Ç–µ–∂–µ–π.
        
        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ–Ω—é
        """
        return (
            f"{MessageTemplate.EMOJI_PAYMENT} <b>–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è</b> {MessageTemplate.EMOJI_PAYMENT}\n\n"
            "üéØ <i>–î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:</i>\n\n"
            f"üí∞ <i>10 {MessageTemplate.EMOJI_BALANCE} - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</i>\n"
            f"üí∞ <i>50 {MessageTemplate.EMOJI_BALANCE} - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</i>\n"
            f"üí∞ <i>100 {MessageTemplate.EMOJI_BALANCE} - –ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</i>\n"
            f"üí∞ <i>500 {MessageTemplate.EMOJI_BALANCE} - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</i>\n\n"
            f"‚ú® <i>–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—É—é –¥–ª—è –≤–∞—Å —Å—É–º–º—É</i>"
        )